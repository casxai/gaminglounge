import{u as _,m as g,k as c,n as h,a as u,o as l,c as n,b as e,e as b,f as x,w as v,l as f,p as w,g as y,q as k,h as C,t as S}from"./index-f9d889fc.js";const B={class:"flex justify-center items-center p-12"},V=["onSubmit"],E={class:"p-8"},M=e("div",{class:"mb-6"},[e("img",{src:f,alt:"logo",class:"mx-auto"})],-1),j=e("h2",{class:"mb-6 tracking-wide font-black text-white text-3xl text-center"},"Gaming Interests",-1),D=e("p",{class:"mb-10 text-white text-center"}," pick things you would like to see in your feed. ",-1),N={class:"grid gap-5 grid-cols-3 place-content-center"},U=["value"],q=e("div",{class:"mt-12 mx-12 text-center"},[e("button",{type:"submit",class:"text-center active:bg-purple_main inline-block w-full p-2 bg-[#8250CB] text-white rounded-full"},"Continue")],-1),G={__name:"PopupView",setup(z){const d=_(),p=g(),i=c([]),o=c([]);h(async()=>{try{let a=(await u.get("/api/get_game_categories/")).data.map(t=>({id:t.id,label:t.game_category,value:t.game_category}));a.sort((t,r)=>t.label.localeCompare(r.label)),i.value=a}catch(s){console.error("Error fetching game categories",s)}});const m=async()=>{try{const s=d.user.id,a=await u.post(`/api/update_user_preferences/${s}/`,{pref_game_category:o.value.join(",")});console.log(a.data),p.push("/gametitle")}catch(s){console.error("Error processing form data",s)}};return(s,a)=>(l(),n("div",B,[e("form",{onSubmit:v(m,["prevent"]),class:"bg-purple_main max-w-2xl rounded-full"},[e("div",E,[M,j,D,e("div",N,[(l(!0),n(b,null,x(i.value,t=>(l(),n("div",{key:t.id,class:w([{"bg-purple_main text-white":o.value.includes(t.value)},"p-2 bg-[#8250CB] hover:bg-purple_main text-white text-center rounded-img"])},[e("label",null,[y(e("input",{type:"checkbox",value:t.value,"onUpdate:modelValue":a[0]||(a[0]=r=>o.value=r),class:"hidden"},null,8,U),[[k,o.value]]),C(" "+S(t.label),1)])],2))),128))]),q])],40,V)]))}};export{G as default};
