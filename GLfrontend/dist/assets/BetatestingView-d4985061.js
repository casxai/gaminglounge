import{_ as h,u as m,P as _,L as f,F as g,a as y,r as s,o,c as a,b as n,d as r,e as P,f as x}from"./index-f9d889fc.js";const F={name:"BetatestingView",emits:["postDeleted"],setup(){return{userStore:m()}},components:{PeopleYouMayKnow:_,LeftPanel:f,FeedItem:g},data(){return{posts:[],body:""}},mounted(){this.getFeed()},methods:{deletePost(e){this.posts=this.posts.filter(t=>t.id!==e)},handlePostDeleted(e){this.posts=this.posts.filter(t=>t.id!==e),this.user&&(this.user.posts_count-=1)},getFeed(){y.get("/api/posts/beta_posts/").then(e=>{console.log("data",e.data),this.posts=e.data}).catch(e=>{console.log("error",e)})},search(){this.$router.push({name:"search",query:{q:this.searchQuery}})}}},b={"data-te-infinite-scroll-init":"",class:"max-w-screen pt-4 mx-auto grid grid-cols-4 gap-4 px-12"},v={class:"main-left space-y-6 sticky top-[8rem] h-screen"},w={class:"px-4 main-center col-span-2 space-y-6"},k={class:"main-right col-span-1 space-y-6 sticky top-[8rem] h-screen"};function B(e,t,D,L,i,d){const l=s("LeftPanel"),p=s("FeedItem"),u=s("PeopleYouMayKnow");return o(),a("div",b,[n("div",v,[r(l)]),n("div",w,[(o(!0),a(P,null,x(i.posts,c=>(o(),a("div",{class:"p-5 bg-purple_main rounded-full border-2 border-gray-400",key:c.id},[r(p,{post:c,onPostDeleted:d.handlePostDeleted},null,8,["post","onPostDeleted"])]))),128))]),n("div",k,[r(u)])])}const I=h(F,[["render",B]]);export{I as default};
