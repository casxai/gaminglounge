import{u as h,m as f,k as c,n as x,a as p,o as u,c as d,b as t,e as b,f as v,p as w,g as y,q as k,h as S,t as T,w as C,l as B}from"./index-f9d889fc.js";const G={class:"flex justify-center items-center p-2"},D=["onSubmit"],U=t("div",{class:"mb-6"},[t("img",{src:B,alt:"logo",class:"mx-auto"})],-1),V=t("h2",{class:"mb-6 tracking-wide font-black text-white text-3xl text-center"},"Gaming Interests",-1),E=t("p",{class:"mb-10 text-white text-center"}," select the game titles you'd like to see in your feed. ",-1),M={class:"grid gap-5 grid-cols-3 place-content-center"},q=["value"],N=t("div",{class:"mt-12 mx-12 text-center"},[t("button",{type:"submit",class:"text-center active:bg-purple_main inline-block w-full p-2 bg-[#8250CB] text-white rounded-full"},"Continue")],-1),z={__name:"GamePopupView",setup($){const n=h(),m=f();c([]);const i=c([]),a=c([]);x(async()=>{try{if(n.user){const s=(await p.get(`/api/get_user/${n.user.id}/`)).data;if(console.log("User Data:",s),s.game_titles){const e=[],r=new Set;for(const l of s.game_titles)r.has(l.id)||(r.add(l.id),e.push(l));e.sort((l,g)=>l.title.localeCompare(g.title)),i.value=e,console.log("Game Titles:",i.value)}else console.error("Game titles not available in user data")}else console.error("User data not available")}catch(o){console.error("Error fetching user data",o)}});const _=async()=>{try{const o=n.user.id,s=a.value.length>0?[...a.value]:null;console.log("Selected Titles:",s);const e=await p.post(`/api/update_user_prefgametitle/${o}/`,{pref_game_titles:s});console.log(e.data),m.push("/feed")}catch(o){console.error("Error processing form data",o)}};return(o,s)=>(u(),d("div",G,[t("form",{onSubmit:C(_,["prevent"]),class:"p-6 bg-purple_main max-w-2xl rounded-full"},[U,V,E,t("div",M,[(u(!0),d(b,null,v(i.value,e=>(u(),d("div",{key:e.id,class:w([{"bg-purple_main text-white":a.value.includes(e.id)},"p-2 bg-[#8250CB] hover:bg-purple_main text-white text-center rounded-img"])},[t("label",null,[y(t("input",{type:"checkbox",value:e.id,"onUpdate:modelValue":s[0]||(s[0]=r=>a.value=r),class:"hidden"},null,8,q),[[k,a.value]]),S(" "+T(e.title),1)])],2))),128))]),N],40,D)]))}};export{z as default};
